# Keyed Archive
Keyed archives are binary blobs stored inside both `.sc2` and `.scg` files that are used to store key/value pairs. Each keyed archive is identified with the magic "KA" (`4b 41`) and contains a small header, key/value pairs come directly after the header.

## Header
```c
struct KAHeader
{
    uint16_t version;
    uint32_t itemCount;
}
```

## Version 1
Each entry in a version 1 KA is identified by a 1 byte data type followed by the actual data, the data is read based on its' data type.
```c
struct KAEntry_v1
{
    uint8_t dataType;
    uint8_t data[];
}
```

## Version 2
Only seen inside `.sc2` files; data seems to be packed tightly together compared to version 1.

Is an array of keys/values with the format.
```c
struct KAEntry_v2
{
    uint16_t length;
    char string[];
}
```
This is followed by an array of `uint32_t`s which are indices that map other KAs in the `.sc2` file to the string array.

## Version 258
Only seen inside `.sc2` files; just like version 1 except string data is an index which maps into the hashmap generated by a Version 2 KA.
